import{n as r}from"./LogoLight.e70848cd.js";import"./vendor.caeebc84.js";const c={name:"EduCourseShow",layout:"website-layout",props:{course:{type:Object,required:!0}},data(){return{showCourseJson:!1,isLoadingCheckout:!1,checkoutErrors:null,checkoutResponse:null,purchaseSelection:null}},mounted(){this.getCheckoutResponse()},methods:{getCheckoutResponse(){try{let e=new URLSearchParams(window.location.search).get("checkout");if(!["cancel","success"].includes(e))return;this.checkoutResponse=e}catch{}},purchaseCourse(){this.checkoutErrors=null,this.isLoadingCheckout=!0,axios.post(this.$route("api.edu.courses.checkout",this.course.id)).then(s=>{if(!s.data.url){this.checkoutErrors="No checkout URL returned from server.";return}window.location.href=s.data.url}).catch(s=>{var e,t;this.checkoutErrors=((t=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:t.message)||s}).finally(()=>{this.isLoadingCheckout=!1})},toggleCourseJson(){this.showCourseJson=!this.showCourseJson},purchaseSelectionClass(s){let e="cursor-pointer border flex flex-col px-8 py-2 rounded space-y-1 w-full items-center justify-center";return s===this.purchaseSelection?e+" border-theme-primary text-theme-primary":e+" border-gray-200 bg-grey-100 text-gray-500 hover:bg-gray-100"}}};var o=function(){var e=this,t=e._self._c;return t("section",{staticClass:"bg-white"},[e.checkoutResponse==="success"?t("div",{staticClass:"bg-theme-success text-theme-success-contrast px-4 py-2 text-center"},[e._v(" Successfully purchased course ")]):e.checkoutResponse==="cancel"?t("div",{staticClass:"bg-theme-warning text-theme-warning-contrast px-4 py-2 text-center"},[e._v(" Course purchase cancelled ")]):e._e(),t("h1",{staticClass:"bg-yellow-100 px-4 py-2 text-center text-3xl bold"},[e._v("PREVIEW")]),t("header",{staticClass:"bg-gray-800 px-4 py-12"},[t("div",{staticClass:"container max-w-screen-lg mx-auto"},[t("div",{staticClass:"flex flex-col items-center md:flex-row md:items-start"},[t("img",{staticClass:"rounded-lg w-48",attrs:{src:e.course.primary_image,alt:"Course image preview"}}),t("section",{staticClass:"mt-8 text-center md:ml-8 md:mt-0 md:text-left"},[t("h1",{staticClass:"text-3xl font-bold text-white md:text-4xl"},[e._v(e._s(e.course.name))]),t("p",{staticClass:"mt-4 text-gray-400"},[e._v(e._s(e.course.summary))]),e._m(0)])])])]),t("section",{staticClass:"px-4 py-6"},[t("div",{staticClass:"container max-w-screen-lg mx-auto"},[t("p",{staticClass:"opacity-50"},[e._v(" Course/Programme Selection ")]),t("div",{staticClass:"flex flex-row mt-2 space-x-4"},[t("button",{class:e.purchaseSelectionClass("standalone"),attrs:{type:"button"},on:{click:function(a){e.purchaseSelection="standalone"}}},[t("span",[e._v("Standalone")]),t("span",{staticClass:"text-sm"},[e._v("Start now!")])]),t("button",{class:e.purchaseSelectionClass("programme_1"),attrs:{type:"button"},on:{click:function(a){e.purchaseSelection="programme_1"}}},[t("span",[e._v("Programme 1")]),t("span",{staticClass:"text-sm"},[e._v("Start date: 01/11/2023")])]),t("button",{class:e.purchaseSelectionClass("programme_2"),attrs:{type:"button"},on:{click:function(a){e.purchaseSelection="programme_2"}}},[t("span",[e._v("Programme 2")]),t("span",{staticClass:"text-sm"},[e._v("Start date: 01/12/2023")])])]),t("div",{staticClass:"flex flex-row justify-center"},[t("button",{staticClass:"button button-primary flex flex-row justify-center mt-6 text-xl",staticStyle:{"min-width":"300px"},attrs:{disabled:!e.purchaseSelection||e.isLoadingCheckout},on:{click:e.purchaseCourse}},[e._v(" \xA3"+e._s(e.course.price)+" | Purchase "),e.isLoadingCheckout?t("icon-loader-circle",{staticClass:"animate-spin-slow ml-2 w-5"}):e._e()],1)])])]),t("section",{staticClass:"bg-white px-4 py-6 shadow-subtle mt-4"},[t("div",{staticClass:"container max-w-screen-lg mx-auto"},[t("div",{staticClass:"text-center"},[t("iframe",{attrs:{src:e.course.video_preview,width:"640",height:"360",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:""}})])])]),t("section",{staticClass:"bg-white px-4 py-6 shadow-subtle"},[t("div",{staticClass:"container max-w-screen-lg mx-auto"},[t("div",{staticClass:"text-center"},[t("p",[e._v(" "+e._s(e.course.description)+" ")])])])])])},i=[function(){var s=this,e=s._self._c;return e("div",{staticClass:"text-white"},[e("ul",[e("li",[s._v("Feature 1")]),e("li",[s._v("Feature 2")]),e("li",[s._v("Feature 3")]),e("li",[s._v("Feature 3")])])])}],l=r(c,o,i,!1,null,null,null,null);const m=l.exports;export{m as default};
