import{_ as i}from"./vendor.d799578a.js";import{I as l}from"./InputGroup.23900402.js";import{S as u}from"./app.267c68cc.js";import{n,aC as c}from"./LogoLight.dd39b68d.js";import{C as m}from"./ConfirmationModal.02c27389.js";const f={name:"ColorsSetting",components:{ConfirmationModal:m,InputGroup:l,IconPlus:c},model:{prop:"settingValue"},props:{colors:{required:!0,type:Object},defaultColors:{required:!0,type:Object},settingValue:{default:{},type:String|Object},title:{default:"Colours",type:String}},data(){return{formattedSettingValue:{},showColors:!0,showResetDefaultsModal:!1}},mounted(){this.initialise()},methods:{cancelResetDefaults(){this.showResetDefaultsModal=!1},checkResetDefaults(){this.showResetDefaultsModal=!0},confirmResetDefaults(){this.setDefaults(),this.showResetDefaultsModal=!1},initialise(){try{this.setDefaults();let a={};typeof this.settingValue=="string"?a=JSON.parse(this.settingValue):a=i.cloneDeep(this.settingValue),i.forEach(this.formattedSettingValue,(t,e)=>{a.hasOwnProperty(e)&&this.$set(this.formattedSettingValue,e,a[e])})}catch{}this.onUpdate()},setDefaults(){i.forEach(this.defaultColors,(a,t)=>{this.$set(this.formattedSettingValue,t,a)})},onUpdate(){this.$emit("input",this.formattedSettingValue)},toggleColors(){this.showColors=!this.showColors}}};var p=function(){var t=this,e=t._self._c;return e("section",{staticClass:"overflow-hidden relative"},[e("div",{staticClass:"bg-white flex flex-row justify-between relative z-10"},[e("h2",{staticClass:"font-medium mb-2 text-theme-base-contrast tracking-wider"},[t._v(" "+t._s(t.title)+" "),e("span",{staticClass:"cursor-pointer text-sm text-theme-primary ease-in-out duration-300 transition-colors hover:text-theme-primary-hover",on:{click:t.checkResetDefaults}},[t._v(" (Reset) ")])]),e("div",{staticClass:"cursor-pointer ease-in-out duration-300 transition-colors hover:text-primary",on:{click:t.toggleColors}},[e(t.showColors?"icon-minus":"icon-plus",{tag:"component",staticClass:"w-3"})],1)]),e("transition",{attrs:{name:"slide-down"}},[t.showColors?e("div",{staticClass:"gap-3 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},t._l(t.colors,function(o,s){return e("div",{key:s},[e("input-group",{key:s,staticClass:"mt-2",attrs:{"input-autocomplete":"off","input-class":"input-group-input h-10","input-id":`color-${s}`,"input-name":`color-${s}`,"input-type":"color","label-text":o},model:{value:t.formattedSettingValue[s],callback:function(r){t.$set(t.formattedSettingValue,s,r)},expression:"formattedSettingValue[colorKey]"}})],1)}),0):t._e()]),e("confirmation-modal",{attrs:{"confirm-text":t.__("messages.confirm"),"cancel-text":t.__("messages.cancel"),"message-title":t.__("messages.are-you-sure")+"?","show-modal":t.showResetDefaultsModal,"message-text":t.__("messages.color-reset-confirm")},on:{cancelAction:t.cancelResetDefaults,closeModal:t.cancelResetDefaults,confirmAction:t.confirmResetDefaults}})],1)},d=[],g=n(f,p,d,!1,null,null,null,null);const h=g.exports,_={name:"AdminSettingEdit",components:{ColorsSetting:h,SelectGroup:u,InputGroup:l},layout:"admin-layout",props:{settings:{required:!0,type:Object},settingsGroup:{required:!0,type:String},settingsName:{required:!0,type:String}},data(){return{formData:{}}},created(){i.forEach(this.settings,(a,t)=>{let e=a.value===null?"":a.value;this.$set(this.formData,t,e)})},methods:{submit(){let a={};i.forEach(this.formData,(t,e)=>{t.trim===""&&(t=null),a[e]=t}),this.$inertia.put(this.$route("admin.settings.update",this.settingsGroup),a,{onSuccess:()=>{window.location.reload()}})}}};var v=function(){var t=this,e=t._self._c;return e("form",{staticClass:"max-w-5xl mx-auto",attrs:{autocomplete:"off"},on:{submit:function(o){return o.preventDefault(),t.submit.apply(null,arguments)}}},[t.userCan("settings.edit")?e("div",{staticClass:"flex flex-row items-center mb-6"},[e("h1",{staticClass:"font-medium mr-auto text-lg"},[t._v(" "+t._s(t.__("settings.edit",{setting:t.settingsName}))+" ")]),e("button",{staticClass:"button button-default-responsive button-primary flex flex-row items-center",attrs:{type:"submit"}},[e("icon-save",{staticClass:"w-5 md:mr-2"}),e("span",{staticClass:"hidden md:inline"},[t._v(" "+t._s(t.__("form.buttons.save"))+" ")])],1)]):t._e(),e("div",{staticClass:"bg-white py-6 shadow-subtle rounded-lg"},[e("div",{staticClass:"block -mt-4 px-6 w-full"},[t._l(t.settings,function(o,s){return[o.type==="select"?e("select-group",{key:s,staticClass:"mt-4",attrs:{"error-message":t.getPageErrorMessage(s),"input-autocomplete":"off","input-id":s,"input-name":s,"input-type":o.type,"label-text":o.label,"input-options":o.options},on:{errorHidden:function(r){return t.clearPageErrorMessage(s)}},model:{value:t.formData[s],callback:function(r){t.$set(t.formData,s,r)},expression:"formData[key]"}}):o.type==="colors"?e("colors-setting",{staticClass:"mt-4",attrs:{colors:o.colors,"default-colors":o.defaultColors,title:o.label},model:{value:t.formData[s],callback:function(r){t.$set(t.formData,s,r)},expression:"formData[key]"}}):e("input-group",{key:s,staticClass:"mt-4",attrs:{"error-message":t.getPageErrorMessage(s),"input-autocomplete":"off","input-id":s,"input-name":s,"input-type":o.type,"label-text":o.label},on:{errorHidden:function(r){return t.clearPageErrorMessage(s)}},model:{value:t.formData[s],callback:function(r){t.$set(t.formData,s,r)},expression:"formData[key]"}})]})],2)])])},C=[],b=n(_,v,C,!1,null,null,null,null);const R=b.exports;export{R as default};
