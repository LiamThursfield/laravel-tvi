import{n as r}from"./LogoLight.eb2f8316.js";import"./vendor.21c2b6f5.js";const i={name:"EduCourseShow",layout:"website-layout",props:{course:{type:Object,required:!0}},data(){return{showCourseJson:!1,isLoadingCheckout:!1,checkoutErrors:null,checkoutResponse:null,purchaseSelection:null}},mounted(){this.getCheckoutResponse()},methods:{getCheckoutResponse(){try{let s=new URLSearchParams(window.location.search).get("checkout");if(!["cancel","success"].includes(s))return;this.checkoutResponse=s}catch{}},purchaseCourse(){this.checkoutErrors=null,this.isLoadingCheckout=!0,axios.post(this.$route("api.edu.courses.checkout",this.course.id)).then(t=>{if(!t.data.url){this.checkoutErrors="No checkout URL returned from server.";return}window.location.href=t.data.url}).catch(t=>{var s,e;this.checkoutErrors=((e=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:e.message)||t}).finally(()=>{this.isLoadingCheckout=!1})},toggleCourseJson(){this.showCourseJson=!this.showCourseJson},purchaseSelectionClass(t){let s="cursor-pointer border flex flex-col px-8 py-2 rounded space-y-1 w-full items-center justify-center";return t===this.purchaseSelection?s+" border-theme-primary text-theme-primary":s+" border-gray-200 bg-grey-100 text-gray-500 hover:bg-gray-100"}}};var l=function(){var s=this,e=s._self._c;return e("section",{staticClass:"bg-white"},[s.checkoutResponse==="success"?e("div",{staticClass:"bg-theme-success text-theme-success-contrast px-4 py-2 text-center"},[s._v(" Successfully purchased course ")]):s.checkoutResponse==="cancel"?e("div",{staticClass:"bg-theme-warning text-theme-warning-contrast px-4 py-2 text-center"},[s._v(" Course purchase cancelled ")]):s._e(),e("h1",{staticClass:"bg-yellow-100 px-4 py-2 text-center text-3xl bold"},[s._v("PREVIEW")]),e("header",{staticClass:"bg-gray-800 px-4 py-12"},[e("div",{staticClass:"container max-w-screen-lg mx-auto"},[e("div",{staticClass:"flex flex-col items-center md:flex-row md:items-start"},[e("img",{staticClass:"rounded-lg w-48",attrs:{src:s.course.primary_image,alt:"Course image preview"}}),e("section",{staticClass:"mt-8 text-center md:ml-8 md:mt-0 md:text-left"},[e("h1",{staticClass:"text-3xl font-bold text-white md:text-4xl"},[s._v(s._s(s.course.name))]),e("p",{staticClass:"mt-4 text-gray-400"},[s._v(s._s(s.course.summary))]),e("div",{staticClass:"text-white"},[e("ul",{staticClass:"py-3"},[e("li",{staticClass:"flex flex-row items-center"},[e("icon-device-mobile",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.access-on-mobile"))+" ")],1),s.course.has_webinars?e("li",{staticClass:"flex flex-row items-center"},[e("icon-camera-check",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.webinars"))+" ")],1):s._e(),s.course.has_money_back_guarantee?e("li",{staticClass:"flex flex-row items-center"},[e("icon-moneybag",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.money-back-gurantee"))+" ")],1):s._e(),s.course.has_cerfiticate?e("li",{staticClass:"flex flex-row items-center"},[e("icon-certificate",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.certificate"))+" ")],1):s._e(),s.course.has_captions?e("li",{staticClass:"flex flex-row items-center"},[e("icon-badge-cc",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.captions"))+" ")],1):s._e(),s.course.has_lifetime_access?e("li",{staticClass:"flex flex-row items-center"},[e("icon-check",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.lifetime-access"))+" ")],1):s._e(),s.course.has_student_discount?e("li",{staticClass:"flex flex-row items-center"},[e("icon-discount",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.student-discount"))+" ")],1):s._e(),s.course.has_pdfs?e("li",{staticClass:"flex flex-row items-center"},[e("icon-book-download",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.resources-pdfs"))+" ")],1):s._e(),s.course.has_seo?e("li",{staticClass:"flex flex-row items-center"},[e("icon-speaker-phone",{staticClass:"w-5 md:mr-2"}),s._v(" "+s._s(s.__("messages.seo-exposure"))+" ")],1):s._e()])])])])])]),e("section",{staticClass:"px-4 py-6"},[e("div",{staticClass:"container max-w-screen-lg mx-auto"},[e("div",{staticClass:"flex flex-row justify-center"},[e("button",{staticClass:"button button-primary flex flex-row justify-center mt-6 text-xl",staticStyle:{"min-width":"300px"},attrs:{disabled:s.isLoadingCheckout},on:{click:s.purchaseCourse}},[s.course.currency==="GBP"?e("span",[s._v(" "+s._s(s.course.currency+" "+s.course.price)+" ")]):s.course.currency==="Lei"?e("span",[s._v(" "+s._s(s.course.price+" "+s.course.currency)+" ")]):s.course.currency==="EUR"?e("span",[s._v(" "+s._s(s.course.price+" Euro")+" ")]):s._e(),s.isLoadingCheckout?e("icon-loader-circle",{staticClass:"animate-spin-slow ml-2 w-5"}):s._e()],1)])])]),e("section",{staticClass:"bg-white px-4 py-6 shadow-subtle mt-4"},[e("div",{staticClass:"container max-w-screen-lg mx-auto flex flex-row justify-center"},[e("div",{staticClass:"text-center"},[e("iframe",{attrs:{src:s.course.video_preview,width:"640",height:"360",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:""}})])])]),e("section",{staticClass:"bg-white px-4 py-6 shadow-subtle"},[e("div",{staticClass:"container max-w-screen-lg mx-auto"},[e("div",{staticClass:"text-center"},[e("p",{domProps:{innerHTML:s._s(s.course.description)}})])])]),e("section",{staticClass:"px-4 py-6 shadow-subtle"},[e("div",{staticClass:"container max-w-screen-lg mx-auto"},[e("ul",{staticClass:"divide-y divide-gray-300 max-w-sm mt-6 mb-6 mx-auto px-4 border"},[e("li",{staticClass:"py-4"},[e("div",{staticClass:"flex items-center space-x-4"},[e("span",{staticClass:"text-lg font-bold"},[s._v(s._s(s.__("messages.course-content")))])]),e("ul",{staticClass:"divide-y divide-gray-300 bg-gray-50 rounded-md px-4 py-2 mt-4"},s._l(s.course.sections,function(a){return e("li",{key:"section-"+a.title,staticClass:"py-2"},[e("div",{staticClass:"flex items-center space-x-4"},[e("strong",[s._v(s._s(a.title))]),e("small",{staticClass:"mr-2 ml-auto"},[a.lecture_count?e("span",[s._v(" "+s._s(a.child_items?a.child_items.length+" "+s.__("messages.lectures")+" | ":"")+" ")]):s._e(),s._v(" "+s._s(a.content_length?a.content_length+" mins":"")+" ")])]),e("ul",{staticClass:"divide-y divide-gray-300 bg-gray-100 rounded-md px-4 py-2 mt-2"},s._l(a.child_items,function(c){return e("li",{key:"lecture-"+c.title,staticClass:"py-2"},[e("div",{staticClass:"flex items-center space-x-4"},[e("span",{staticClass:"text-sm font-medium"},[s._v(" "+s._s(c.title)+" "),e("small",{staticClass:"mr-2 ml-auto"},[s._v(" "+s._s(c.content_length?c.content_length+" mins":"")+" ")])])])])}),0)])}),0)])])])])])},o=[],n=r(i,l,o,!1,null,null,null,null);const _=n.exports;export{_ as default};
