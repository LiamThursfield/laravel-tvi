import{_ as n}from"./vendor.21c2b6f5.js";import{I as l}from"./InlineCheckboxGroup.03ba61c7.js";import{I as o}from"./InputGroup.548575c6.js";import{n as u}from"./LogoLight.eb2f8316.js";import"./checkbox-form-group.50e62bcf.js";const m={name:"AdminUserEdit",components:{InlineCheckboxGroup:l,InputGroup:o},layout:"admin-layout",props:{selectableRoles:{required:!0,type:Object},user:{required:!0,type:Object}},data(){return{formData:null}},computed:{isCurrentUser(){try{return this.user.id===this.$page.props.auth.user.id}catch{return!1}},isSelectableRoles(){try{return Object.keys(this.selectableRoles).length>0}catch{return!1}}},created(){this.formData={email:this.user.email,first_name:this.user.first_name,last_name:this.user.last_name,roles:this.user.roles},Array.isArray(this.formData.roles)&&(this.formData.roles={}),this.initialiseRoles()},methods:{initialiseRoles(){n.forEach(this.selectableRoles,(r,e)=>{this.formData.roles.hasOwnProperty(e)||(this.formData.roles[e]=!1)})},submit(){this.$inertia.put(this.$route("landlord.admin.users.update",this.user.id),this.formData)}}};var c=function(){var e=this,t=e._self._c;return t("form",{staticClass:"max-w-5xl mx-auto",attrs:{autocomplete:"off"},on:{submit:function(a){return a.preventDefault(),e.submit.apply(null,arguments)}}},[e.userCan("users.edit")?t("div",{staticClass:"flex flex-row items-center mb-6"},[t("h1",{staticClass:"font-medium mr-auto text-lg"},[e._v(" Edit User "),t("span",{staticClass:"ml-2 opacity-75 text-sm"},[e._v(" "+e._s(e.user.name)+" ")])]),e.userCan("users.view")?t("inertia-link",{staticClass:"button button-default-responsive button-primary-subtle flex flex-row items-center mr-2",attrs:{href:e.$route("landlord.admin.users.index")}},[t("icon-chevron-left",{staticClass:"w-5 md:mr-2"}),t("span",{staticClass:"hidden md:inline"},[e._v(" Back ")])],1):e._e(),t("button",{staticClass:"button button-default-responsive button-primary flex flex-row items-center",attrs:{type:"submit"}},[t("icon-save",{staticClass:"w-5 md:mr-2"}),t("span",{staticClass:"hidden md:inline"},[e._v(" Save Changes ")])],1)],1):e._e(),t("div",{staticClass:"bg-white py-6 shadow-subtle rounded-lg"},[t("div",{staticClass:"block px-6 w-full"},[t("input-group",{attrs:{"error-message":e.getPageErrorMessage("first_name"),"input-autocomplete":"off","input-autofocus":!0,"input-id":"first_name","input-name":"first_name","input-required":!0,"input-type":"text","label-text":"First Name"},on:{errorHidden:function(a){return e.clearPageErrorMessage("first_name")}},model:{value:e.formData.first_name,callback:function(a){e.$set(e.formData,"first_name",a)},expression:"formData.first_name"}}),t("input-group",{staticClass:"mt-4",attrs:{"error-message":e.getPageErrorMessage("last_name"),"input-autocomplete":"off","input-id":"last_name","input-name":"last_name","input-required":!0,"input-type":"text","label-text":"Last Name"},on:{errorHidden:function(a){return e.clearPageErrorMessage("last_name")}},model:{value:e.formData.last_name,callback:function(a){e.$set(e.formData,"last_name",a)},expression:"formData.last_name"}}),t("input-group",{staticClass:"mt-4",attrs:{"error-message":e.getPageErrorMessage("email"),"input-autocomplete":"off","input-id":"email","input-name":"email","input-required":!0,"input-type":"email","label-text":"Email"},on:{errorHidden:function(a){return e.clearPageErrorMessage("email")}},model:{value:e.formData.email,callback:function(a){e.$set(e.formData,"email",a)},expression:"formData.email"}})],1)]),e.isSelectableRoles?t("div",{staticClass:"bg-white mt-6 py-6 shadow-subtle rounded-lg"},[t("div",{staticClass:"block px-6 w-full"},[t("p",{staticClass:"font-medium mb-4 text-theme-base-contrast tracking-wider"},[e._v(" Roles ")]),t("div",{staticClass:"space-y-3"},e._l(e.selectableRoles,function(a,s){return t("inline-checkbox-group",{key:`user-role-${s}`,attrs:{"input-id":`user-role-${s}`,"input-name":`user-role-${s}`,"label-text":a},model:{value:e.formData.roles[s],callback:function(i){e.$set(e.formData.roles,s,i)},expression:"formData.roles[role_key]"}})}),1)])]):e._e()])},f=[],p=u(m,c,f,!1,null,null,null,null);const v=p.exports;export{v as default};
